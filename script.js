// 多语言支持
const translations = {
    zh: {
        // 导航
        '首页': '首页',
        '品牌': '品牌',
        '产品': '产品',
        '供应链': '供应链',
        '联系我们': '联系我们',
        
        // Logo
        '全球美妆供应链': '全球美妆供应链',
        
        // Hero区域
        '连接全球美妆资源': '连接全球美妆资源',
        '将韩国、欧洲、日本等地的优质美妆产品引入全球新兴市场': '将韩国、欧洲、日本等地的优质美妆产品引入全球新兴市场',
        '了解更多': '了解更多',
        '联系我们': '联系我们',
        
        // 品牌矩阵
        '全球知名美妆集团品牌矩阵': '全球知名美妆集团品牌矩阵',
        '欧莱雅集团': '欧莱雅集团',
        '兰蔻': '兰蔻',
        'YSL Beauty': 'YSL Beauty',
        '科颜氏': '科颜氏',
        '阿玛尼': '阿玛尼',
        'Urban Decay': 'Urban Decay',
        '植村秀': '植村秀',
        '雅诗兰黛集团': '雅诗兰黛集团',
        '雅诗兰黛': '雅诗兰黛',
        'MAC': 'MAC',
        '倩碧': '倩碧',
        'Jo Malone': 'Jo Malone',
        '海蓝之谜': '海蓝之谜',
        'Bobbi Brown': 'Bobbi Brown',
        '资生堂集团': '资生堂集团',
        '资生堂': '资生堂',
        'NARS': 'NARS',
        'THREE': 'THREE',
        'CPB': 'CPB',
        'IPSA': 'IPSA',
        '安耐晒': '安耐晒',
        'Puig集团': 'Puig集团',
        'Carolina Herrera': 'Carolina Herrera',
        'Paco Rabanne': 'Paco Rabanne',
        'Jean Paul Gaultier': 'Jean Paul Gaultier',
        'Nina Ricci': 'Nina Ricci',
        'Dries Van Noten': 'Dries Van Noten',
        'Charlotte Tilbury': 'Charlotte Tilbury',
        '科蒂集团': '科蒂集团',
        'Calvin Klein': 'Calvin Klein',
        'Marc Jacobs': 'Marc Jacobs',
        'Gucci': 'Gucci',
        'Burberry': 'Burberry',
        'Hugo Boss': 'Hugo Boss',
        'Miu Miu': 'Miu Miu',
        'LG生活健康': 'LG生活健康',
        '后': '后',
        'O HUI': 'O HUI',
        'SU:M37': 'SU:M37',
        'belif': 'belif',
        'CNP': 'CNP',
        'VDL': 'VDL',
        
        // 供应链
        '全球供应链优势': '全球供应链优势',
        '我们在全球战略要点建立了高效的供应链网络,确保产品以最优价格和最快速度送达客户': '我们在全球战略要点建立了高效的供应链网络,确保产品以最优价格和最快速度送达客户',
        '香港配送中心': '香港配送中心',
        '位于亚洲金融中心,免税环境,连接东西方的贸易枢纽,为全球客户提供高效配送': '位于亚洲金融中心,免税环境,连接东西方的贸易枢纽,为全球客户提供高效配送',
        '24小时发货': '24小时发货',
        '免税仓储': '免税仓储',
        '中国保税仓': '中国保税仓',
        '享受保税政策优势,提供中国大陆及周边地区最便捷的通关和配送体验': '享受保税政策优势,提供中国大陆及周边地区最便捷的通关和配送体验',
        '便捷通关': '便捷通关',
        '保税优势': '保税优势',
        '新加坡转运中心': '新加坡转运中心',
        '东南亚战略枢纽,为东盟国家提供最快速的物流通道和优质服务': '东南亚战略枢纽,为东盟国家提供最快速的物流通道和优质服务',
        '东盟优势': '东盟优势',
        '快速转运': '快速转运',
        
        // 页脚
        '全球美妆供应链': '全球美妆供应链',
        '连接全球美妆资源,服务新兴市场': '连接全球美妆资源,服务新兴市场',
        '品牌集团': '品牌集团',
        '产品分类': '产品分类',
        '香水': '香水',
        '护肤': '护肤',
        '彩妆': '彩妆',
        '洗护': '洗护',
        '香港九龙湾宏照道33号国际交易中心21楼': '香港九龙湾宏照道33号国际交易中心21楼',
        '© 2023 全球美妆供应链,版权所有.': '© 2023 全球美妆供应链,版权所有.',
        
                 // 联系表单
         '姓名': '姓名',
         '邮箱': '邮箱',
         '公司': '公司',
         '留言': '留言',
         '发送': '发送',
         
         // 产品询价
         '产品询价': '产品询价',
         '我们提供多种便捷的询价渠道,帮助您快速获取产品信息、价格和库存状态': '我们提供多种便捷的询价渠道,帮助您快速获取产品信息、价格和库存状态',
         '微信询价': '微信询价',
         '扫描下方二维码或添加微信号:CrystalLau7': '扫描下方二维码或添加微信号:CrystalLau7',
         'WeChat QR Code': 'WeChat QR Code',

         '在线询价表': '在线询价表',
         '公司名称': '公司名称',
         '联系人': '联系人',
         '电子邮箱': '电子邮箱',
         '感兴趣的产品(品牌/名称)': '感兴趣的产品(品牌/名称)',
         '预计采购数量': '预计采购数量',
         '目标市场/国家': '目标市场/国家',
         '附加信息': '附加信息',
         '提交询价': '提交询价'
    },
    en: {
        // Navigation
        '首页': 'Home',
        '品牌': 'Brands',
        '产品': 'Products',
        '供应链': 'Supply Chain',
        '联系我们': 'Contact',
        
        // Logo
        '全球美妆供应链': 'Global Beauty Supply Chain',
        
        // Hero section
        '连接全球美妆资源': 'Connecting Global Beauty Resources',
        '将韩国、欧洲、日本等地的优质美妆产品引入全球新兴市场': 'Introducing premium beauty products from Korea, Europe, and Japan to emerging markets worldwide',
        '了解更多': 'Learn More',
        '联系我们': 'Contact Us',
        
        // Brand matrix
        '全球知名美妆集团品牌矩阵': 'Global Beauty Group Brand Matrix',
        '欧莱雅集团': 'L\'Oréal Group',
        '兰蔻': 'Lancôme',
        'YSL Beauty': 'YSL Beauty',
        '科颜氏': 'Kiehl\'s',
        '阿玛尼': 'Armani',
        'Urban Decay': 'Urban Decay',
        '植村秀': 'Shu Uemura',
        '雅诗兰黛集团': 'Estée Lauder Group',
        '雅诗兰黛': 'Estée Lauder',
        'MAC': 'MAC',
        '倩碧': 'Clinique',
        'Jo Malone': 'Jo Malone',
        '海蓝之谜': 'La Mer',
        'Bobbi Brown': 'Bobbi Brown',
        '资生堂集团': 'Shiseido Group',
        '资生堂': 'Shiseido',
        'NARS': 'NARS',
        'THREE': 'THREE',
        'CPB': 'Clé de Peau',
        'IPSA': 'IPSA',
        '安耐晒': 'Anessa',
        'Puig集团': 'Puig Group',
        'Carolina Herrera': 'Carolina Herrera',
        'Paco Rabanne': 'Paco Rabanne',
        'Jean Paul Gaultier': 'Jean Paul Gaultier',
        'Nina Ricci': 'Nina Ricci',
        'Dries Van Noten': 'Dries Van Noten',
        'Charlotte Tilbury': 'Charlotte Tilbury',
        '科蒂集团': 'Coty Group',
        'Calvin Klein': 'Calvin Klein',
        'Marc Jacobs': 'Marc Jacobs',
        'Gucci': 'Gucci',
        'Burberry': 'Burberry',
        'Hugo Boss': 'Hugo Boss',
        'Miu Miu': 'Miu Miu',
        'LG生活健康': 'LG H&H',
        '后': 'Whoo',
        'O HUI': 'O HUI',
        'SU:M37': 'SU:M37',
        'belif': 'belif',
        'CNP': 'CNP',
        'VDL': 'VDL',
        
        // Supply chain
        '全球供应链优势': 'Global Supply Chain Advantages',
        '我们在全球战略要点建立了高效的供应链网络,确保产品以最优价格和最快速度送达客户': 'We have established an efficient supply chain network at global strategic points, ensuring products are delivered to customers at optimal prices and fastest speeds',
        '香港配送中心': 'Hong Kong Distribution Center',
        '位于亚洲金融中心,免税环境,连接东西方的贸易枢纽,为全球客户提供高效配送': 'Located in Asia\'s financial center, a duty-free environment, connecting East and West as a trade hub, providing efficient distribution for global customers',
        '24小时发货': '24-hour delivery',
        '免税仓储': 'Duty-free warehousing',
        '中国保税仓': 'China Bonded Warehouse',
        '享受保税政策优势,提供中国大陆及周边地区最便捷的通关和配送体验': 'Enjoy the advantages of bonded policies, providing the most convenient customs clearance and distribution experience for mainland China and surrounding areas',
        '便捷通关': 'Convenient customs clearance',
        '保税优势': 'Bonded advantages',
        '新加坡转运中心': 'Singapore Transit Center',
        '东南亚战略枢纽,为东盟国家提供最快速的物流通道和优质服务': 'Southeast Asian strategic hub, providing the fastest logistics channels and quality services for ASEAN countries',
        '东盟优势': 'ASEAN advantages',
        '快速转运': 'Fast transit',
        
        // Footer
        '全球美妆供应链': 'Global Beauty Supply Chain',
        '连接全球美妆资源,服务新兴市场': 'Connecting global beauty resources, serving emerging markets',
        '品牌集团': 'Brand Groups',
        '产品分类': 'Product Categories',
        '香水': 'Fragrance',
        '护肤': 'Skincare',
        '彩妆': 'Makeup',
        '洗护': 'Hair & Body Care',
        '香港九龙湾宏照道33号国际交易中心21楼': '21st Floor, International Trade Centre, 33 Wang Chiu Road, Kowloon Bay, Hong Kong',
        '© 2023 全球美妆供应链,版权所有.': '© 2023 Global Beauty Supply Chain, All Rights Reserved.',
        
                 // Contact form
         '姓名': 'Name',
         '邮箱': 'Email',
         '公司': 'Company',
         '留言': 'Message',
         '发送': 'Send',
         
         // Product inquiry
         '产品询价': 'Product Inquiry',
         '我们提供多种便捷的询价渠道,帮助您快速获取产品信息、价格和库存状态': 'We provide multiple convenient inquiry channels to help you quickly obtain product information, prices, and inventory status',
         '微信询价': 'WeChat Inquiry',
         '扫描下方二维码或添加微信号:CrystalLau7': 'Scan the QR code below or add WeChat ID: CrystalLau7',
         'WeChat QR Code': 'WeChat QR Code',

         '在线询价表': 'Online Inquiry Form',
         '公司名称': 'Company Name',
         '联系人': 'Contact Person',
         '电子邮箱': 'Email',
         '感兴趣的产品(品牌/名称)': 'Products of Interest (Brand/Name)',
         '预计采购数量': 'Estimated Purchase Quantity',
         '目标市场/国家': 'Target Market/Country',
         '附加信息': 'Additional Information',
         '提交询价': 'Submit Inquiry'
    },
    kr: {
        // Navigation
        '首页': '홈',
        '品牌': '브랜드',
        '产品': '제품',
        '供应链': '공급망',
        '联系我们': '연락처',
        
        // Logo
        '全球美妆供应链': '글로벌 뷰티 공급망',
        
        // Hero section
        '连接全球美妆资源': '글로벌 뷰티 리소스 연결',
        '将韩国、欧洲、日本等地的优质美妆产品引入全球新兴市场': '한국, 유럽, 일본의 프리미엄 뷰티 제품을 전 세계 신흥 시장에 도입',
        '了解更多': '더 알아보기',
        '联系我们': '연락하기',
        
        // Brand matrix
        '全球知名美妆集团品牌矩阵': '글로벌 뷰티 그룹 브랜드 매트릭스',
        '欧莱雅集团': '로레알 그룹',
        '兰蔻': '랑콤',
        'YSL Beauty': 'YSL Beauty',
        '科颜氏': '키엘스',
        '阿玛尼': '아르마니',
        'Urban Decay': 'Urban Decay',
        '植村秀': '슈에무라',
        '雅诗兰黛集团': '에스티 로더 그룹',
        '雅诗兰黛': '에스티 로더',
        'MAC': '맥',
        '倩碧': '클리니크',
        'Jo Malone': '조 말론',
        '海蓝之谜': '라메르',
        'Bobbi Brown': '바비 브라운',
        '资生堂集团': '시세이도 그룹',
        '资生堂': '시세이도',
        'NARS': '나스',
        'THREE': 'THREE',
        'CPB': '클레드뽀',
        'IPSA': 'IPSA',
        '安耐晒': '아네사',
        'Puig集团': '푸이그 그룹',
        'Carolina Herrera': '캐롤리나 헤레라',
        'Paco Rabanne': '파코 라반',
        'Jean Paul Gaultier': '장 폴 고티에',
        'Nina Ricci': '니나 리치',
        'Dries Van Noten': '드리스 반 노튼',
        'Charlotte Tilbury': '샬롯 틸버리',
        '科蒂集团': '코티 그룹',
        'Calvin Klein': '캘빈클라인',
        'Marc Jacobs': '마크 제이콥스',
        'Gucci': '구찌',
        'Burberry': '버버리',
        'Hugo Boss': '휴고보스',
        'Miu Miu': '미우미우',
        'LG生活健康': 'LG생활건강',
        '后': '후',
        'O HUI': '오휘',
        'SU:M37': '숨37',
        'belif': '벨리프',
        'CNP': 'CNP',
        'VDL': 'VDL',
        
        // Supply chain
        '全球供应链优势': '글로벌 공급망 우위',
        '我们在全球战略要点建立了高效的供应链网络,确保产品以最优价格和最快速度送达客户': '우리는 글로벌 전략적 요점에 효율적인 공급망 네트워크를 구축하여 제품이 최적의 가격과 최고의 속도로 고객에게 전달되도록 보장합니다',
        '香港配送中心': '홍콩 배송 센터',
        '位于亚洲金融中心,免税环境,连接东西方的贸易枢纽,为全球客户提供高效配送': '아시아 금융 중심지에 위치, 면세 환경, 동서양을 연결하는 무역 허브, 글로벌 고객을 위한 효율적인 배송 제공',
        '24小时发货': '24시간 배송',
        '免税仓储': '면세 창고',
        '中国保税仓': '중국 보세창고',
        '享受保税政策优势,提供中国大陆及周边地区最便捷的通关和配送体验': '보세 정책의 이점을 누리며, 중국 본토 및 주변 지역에 가장 편리한 통관 및 배송 경험 제공',
        '便捷通关': '편리한 통관',
        '保税优势': '보세 이점',
        '新加坡转运中心': '싱가포르 중계 센터',
        '东南亚战略枢纽,为东盟国家提供最快速的物流通道和优质服务': '동남아시아 전략적 허브, 아세안 국가에 가장 빠른 물류 채널과 품질 서비스 제공',
        '东盟优势': '아세안 이점',
        '快速转运': '빠른 중계',
        
        // Footer
        '全球美妆供应链': '글로벌 뷰티 공급망',
        '连接全球美妆资源,服务新兴市场': '글로벌 뷰티 리소스를 연결하고 신흥 시장에 서비스 제공',
        '品牌集团': '브랜드 그룹',
        '产品分类': '제품 분류',
        '香水': '향수',
        '护肤': '스킨케어',
        '彩妆': '메이크업',
        '洗护': '헤어&바디케어',
        '香港九龙湾宏照道33号国际交易中心21楼': '홍콩 구룡만 홍조도 33번지 국제거래센터 21층',
        '© 2023 全球美妆供应链,版权所有.': '© 2023 글로벌 뷰티 공급망, 모든 권리 보유.',
        
                 // Contact form
         '姓名': '이름',
         '邮箱': '이메일',
         '公司': '회사',
         '留言': '메시지',
         '发送': '보내기',
         
         // Product inquiry
         '产品询价': '제품 문의',
         '我们提供多种便捷的询价渠道,帮助您快速获取产品信息、价格和库存状态': '다양한 편리한 문의 채널을 제공하여 제품 정보, 가격 및 재고 상태를 신속하게 확인할 수 있도록 도와드립니다',
         '微信询价': '위챗 문의',
         '扫描下方二维码或添加微信号:CrystalLau7': '아래 QR 코드를 스캔하거나 위챗 ID 추가: CrystalLau7',
         'WeChat QR Code': '위챗 QR 코드',


         '在线询价表': '온라인 문의 양식',
         '公司名称': '회사명',
         '联系人': '담당자',
         '电子邮箱': '이메일',
         '感兴趣的产品(品牌/名称)': '관심 제품(브랜드/명칭)',
         '预计采购数量': '예상 구매 수량',
         '目标市场/国家': '목표 시장/국가',
         '附加信息': '추가 정보',
         '提交询价': '문의 제출'
    }
};

// 当前语言
let currentLang = 'en';

// 语言切换功能
function switchLanguage(lang) {
    currentLang = lang;
    
    // 更新语言按钮状态
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector(`[data-lang="${lang}"]`).classList.add('active');
    
    // 更新页面内容
    document.querySelectorAll('[data-zh]').forEach(element => {
        const originalText = element.getAttribute(`data-${lang}`);
        if (originalText) {
            element.textContent = originalText;
        }
    });
    
    // 更新页面语言属性
    document.documentElement.lang = lang === 'zh' ? 'zh-CN' : lang;
}

// 模态框功能
function openModal() {
    const modal = document.getElementById('contact-modal');
    modal.style.display = 'block';
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    const modal = document.getElementById('contact-modal');
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

// 平滑滚动
function smoothScrollTo(target) {
    const element = document.querySelector(target);
    if (element) {
        element.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
        });
    }
}

 // 联系我们表单提交处理
 async function handleFormSubmit(event) {
     event.preventDefault();
     
     const formData = new FormData(event.target);
     const data = Object.fromEntries(formData);
     
     // 显示加载状态
     const submitBtn = event.target.querySelector('button[type="submit"]');
     const originalText = submitBtn.textContent;
     submitBtn.textContent = currentLang === 'zh' ? '发送中...' : 
                             currentLang === 'en' ? 'Sending...' : '전송 중...';
     submitBtn.disabled = true;
     
     try {
         // 首先尝试使用后端API
         const response = await fetch('/api/contact', {
             method: 'POST',
             headers: {
                 'Content-Type': 'application/json',
             },
             body: JSON.stringify(data)
         });
         
         if (response.ok) {
             const result = await response.json();
             console.log('后端联系我们邮件发送成功:', result);
             showSuccessMessage(result[currentLang] || result.message || 'Message sent successfully!');
             closeModal();
             event.target.reset();
             return;
         }
     } catch (backendError) {
         console.log('后端服务不可用，尝试EmailJS:', backendError);
     }
     
     // 如果后端不可用，使用EmailJS作为备选方案
     try {
         const emailResponse = await emailjs.send('service_y2ur8xo', 'template_cygz6pq', {
             // 收件人信息
             to_name: '刘梦婷',
             to_email: 'liumengting711@gmail.com',
             
             // 发件人信息
             from_name: data.name,
             from_email: data.email,
             reply_to: data.email,
             
             // 联系信息
             contact_name: data.name,
             contact_email: data.email,
             company: data.company || '未提供',
             message: data.message,
             
             // 兼容性字段
             name: data.name,
             email: data.email,
             company_name: data.company,
             contact_person: data.name,
             contact_email: data.email,
             additional_info: data.message
         });
         
         console.log('EmailJS联系我们邮件发送成功:', emailResponse);
         showSuccessMessage(currentLang === 'zh' ? '消息发送成功，我们会尽快回复！' : 
                           currentLang === 'en' ? 'Message sent successfully! We will reply soon!' : 
                           '메시지가 성공적으로 전송되었습니다. 곧 답변드리겠습니다!');
         closeModal();
         event.target.reset();
         
     } catch (emailError) {
         console.error('EmailJS联系我们邮件发送失败:', emailError);
         showErrorMessage(currentLang === 'zh' ? '发送失败，请稍后重试或直接联系我们' : 
                         currentLang === 'en' ? 'Failed to send. Please try again later or contact us directly' : 
                         '전송 실패. 나중에 다시 시도하거나 직접 연락해 주세요');
     } finally {
         // 恢复按钮状态
         submitBtn.textContent = originalText;
         submitBtn.disabled = false;
     }
 }
 
 // 产品询价表单提交处理
 async function handleInquiryFormSubmit(event) {
     event.preventDefault();
     
     const formData = new FormData(event.target);
     const data = Object.fromEntries(formData);
     
     // 显示加载状态
     const submitBtn = event.target.querySelector('button[type="submit"]');
     const originalText = submitBtn.textContent;
     submitBtn.textContent = currentLang === 'zh' ? '发送中...' : 
                             currentLang === 'en' ? 'Sending...' : '전송 중...';
     submitBtn.disabled = true;
     
     try {
         // 首先尝试使用后端API
         const response = await fetch('/api/inquiry', {
             method: 'POST',
             headers: {
                 'Content-Type': 'application/json',
             },
             body: JSON.stringify(data)
         });
         
         if (response.ok) {
             const result = await response.json();
             console.log('后端邮件发送成功:', result);
             showSuccessMessage(result[currentLang] || result.message || 'Inquiry submitted successfully!');
             showInquirySuccessMessage();
             event.target.reset();
             return;
         }
     } catch (backendError) {
         console.log('后端服务不可用，尝试EmailJS:', backendError);
     }
     
     // 如果后端不可用，使用EmailJS作为备选方案
     emailjs.send('service_y2ur8xo', 'template_cygz6pq', {
         // 收件人信息
         to_name: '刘梦婷',
         to_email: 'liumengting711@gmail.com',
         
         // 发件人信息
         from_name: data.contact,
         from_email: data.email,
         reply_to: data.email,
         
         // 询价详情
         company_name: data.company,
         contact_person: data.contact,
         contact_email: data.email,
         phone: data.phone || '未提供',
         products: data.products,
         quantity: data.quantity || '未指定',
         target_market: data.market || '未指定',
         additional_info: data.additional || '无',
         
         // 兼容性字段
         name: data.contact,
         email: data.email,
         company: data.company,
         message: data.additional || '无',
         product_interest: data.products,
         market: data.market
     })
     .then(function(response) {
         console.log('EmailJS邮件发送成功:', response);
         // 显示成功提示
         showSuccessMessage(currentLang === 'zh' ? '询价提交成功，我们会尽快回复！' : 
                           currentLang === 'en' ? 'Inquiry submitted successfully! We will reply soon!' : 
                           '문의가 성공적으로 제출되었습니다. 곧 답변드리겠습니다!');
         showInquirySuccessMessage();
         // 重置表单
         event.target.reset();
     })
     .catch(function(error) {
         console.error('EmailJS邮件发送失败:', error);
         // 显示错误提示
         showErrorMessage(currentLang === 'zh' ? '提交失败，请稍后重试或直接联系我们' : 
                         currentLang === 'en' ? 'Failed to submit. Please try again later or contact us directly' : 
                         '제출 실패. 나중에 다시 시도하거나 직접 연락해 주세요');
     })
     .finally(() => {
         // 恢复按钮状态
         submitBtn.textContent = originalText;
         submitBtn.disabled = false;
     });
 }
 

 // 显示询价成功提示
 function showInquirySuccessMessage() {
     const form = document.getElementById('inquiryForm');
     const successMessage = document.getElementById('successMessage');
     
     if (form && successMessage) {
         form.style.display = 'none';
         successMessage.style.display = 'block';
         
         // 5秒后自动隐藏
         setTimeout(() => {
             form.style.display = 'block';
             successMessage.style.display = 'none';
         }, 5000);
     }
 }

// 显示成功消息
function showSuccessMessage(message) {
    // 创建成功提示元素
    const successDiv = document.createElement('div');
    successDiv.className = 'success-message';
    successDiv.innerHTML = `
        <div class="success-content">
            <i class="fas fa-check-circle"></i>
            <span>${message}</span>
        </div>
    `;
    
    // 添加样式
    successDiv.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #000000;
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 10000;
        animation: slideInRight 0.3s ease-out;
    `;
    
    document.body.appendChild(successDiv);
    
    // 3秒后自动移除
    setTimeout(() => {
        successDiv.style.animation = 'slideOutRight 0.3s ease-in';
        setTimeout(() => {
            if (successDiv.parentNode) {
                successDiv.parentNode.removeChild(successDiv);
            }
        }, 300);
    }, 3000);
}

// 显示错误消息
function showErrorMessage(message) {
    // 创建错误提示元素
    const errorDiv = document.createElement('div');
    errorDiv.className = 'error-message';
    errorDiv.innerHTML = `
        <div class="error-content">
            <i class="fas fa-exclamation-circle"></i>
            <span>${message}</span>
        </div>
    `;
    
    // 添加样式
    errorDiv.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #000000;
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 10000;
        animation: slideInRight 0.3s ease-out;
    `;
    
    document.body.appendChild(errorDiv);
    
    // 5秒后自动移除
    setTimeout(() => {
        errorDiv.style.animation = 'slideOutRight 0.3s ease-in';
        setTimeout(() => {
            if (errorDiv.parentNode) {
                errorDiv.parentNode.removeChild(errorDiv);
            }
        }, 300);
    }, 5000);
}

// 页面加载完成后初始化
document.addEventListener('DOMContentLoaded', function() {
    // 检查URL参数中的语言设置
    const urlParams = new URLSearchParams(window.location.search);
    const langFromUrl = urlParams.get('lang');
    
    // 如果有URL参数，使用URL参数的语言，否则默认使用英文
    const defaultLang = langFromUrl || 'en';
    switchLanguage(defaultLang);
    
    // 语言切换事件监听
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            switchLanguage(lang);
            
            // 重新加载产品列表以更新语言
            if (typeof reloadAllProductLists === 'function') {
                reloadAllProductLists();
            }
        });
    });
    
    // 联系我们按钮事件
    document.querySelectorAll('.btn-secondary').forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            openModal();
        });
    });
    
    // 模态框关闭事件
    document.querySelector('.close').addEventListener('click', closeModal);
    
    // 点击模态框外部关闭
    document.getElementById('contact-modal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeModal();
        }
    });
    
         // 表单提交事件
     document.querySelector('.contact-form').addEventListener('submit', handleFormSubmit);
     document.querySelector('.inquiry-form').addEventListener('submit', handleInquiryFormSubmit);
    
    // 导航链接平滑滚动
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const target = this.getAttribute('href');
            smoothScrollTo(target);
        });
    });
    
    // 了解更多按钮事件（可以跳转到详细介绍页面）
    // 排除表单提交按钮，只处理其他.btn-primary按钮
    document.querySelectorAll('.btn-primary').forEach(btn => {
        // 跳过表单提交按钮
        if (btn.type === 'submit' || btn.closest('form')) {
            return;
        }
        
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            // 这里可以添加跳转到详细介绍页面的逻辑
            alert(currentLang === 'zh' ? '即将跳转到详细介绍页面...' : 
                  currentLang === 'en' ? 'Redirecting to detailed information...' : 
                  '상세 정보 페이지로 이동합니다...');
        });
    });
    
    // 滚动时导航栏效果
    window.addEventListener('scroll', function() {
        const header = document.querySelector('.header');
        if (window.scrollY > 100) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });
    
    // 品牌卡片悬停效果增强 - Chanel风格
    document.querySelectorAll('.brand-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-15px) scale(1.02)';
            this.style.boxShadow = '0 30px 60px rgba(0, 0, 0, 0.15)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 30px 60px rgba(0, 0, 0, 0.1)';
        });
    });
    
    // 特性卡片悬停效果 - Chanel风格
    document.querySelectorAll('.feature-card').forEach(feature => {
        feature.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-12px) scale(1.02)';
            this.style.boxShadow = '0 25px 50px rgba(0, 0, 0, 0.12)';
        });
        
        feature.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.08)';
        });
    });
    
    // 添加Chanel风格的优雅滚动效果
    let ticking = false;
    
    function updateScrollEffects() {
        const scrolled = window.pageYOffset;
        const parallax = document.querySelector('.hero-background');
        
        if (parallax) {
            const speed = scrolled * 0.5;
            parallax.style.transform = `translateY(${speed}px)`;
        }
        
        ticking = false;
    }
    
    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(updateScrollEffects);
            ticking = true;
        }
    }
    
    window.addEventListener('scroll', requestTick);
    
    // 键盘事件处理
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeModal();
        }
    });
    
    // 初始化动画 - Chanel风格优雅入场
    setTimeout(() => {
        document.querySelectorAll('.brand-card, .feature-card').forEach((element, index) => {
            element.style.opacity = '0';
            element.style.transform = 'translateY(50px)';
            
            setTimeout(() => {
                element.style.transition = 'all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                element.style.opacity = '1';
                element.style.transform = 'translateY(0)';
            }, index * 150);
        });
    }, 800);
    
    // 添加Chanel风格的页面加载动画
    window.addEventListener('load', function() {
        const heroTitle = document.querySelector('.hero-title');
        const heroSubtitle = document.querySelector('.hero-subtitle');
        const heroButtons = document.querySelector('.hero-buttons');
        
        if (heroTitle) {
            heroTitle.style.opacity = '0';
            heroTitle.style.transform = 'translateY(30px)';
            setTimeout(() => {
                heroTitle.style.transition = 'all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                heroTitle.style.opacity = '1';
                heroTitle.style.transform = 'translateY(0)';
            }, 200);
        }
        
        if (heroSubtitle) {
            heroSubtitle.style.opacity = '0';
            heroSubtitle.style.transform = 'translateY(30px)';
            setTimeout(() => {
                heroSubtitle.style.transition = 'all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                heroSubtitle.style.opacity = '1';
                heroSubtitle.style.transform = 'translateY(0)';
            }, 400);
        }
        
        if (heroButtons) {
            heroButtons.style.opacity = '0';
            heroButtons.style.transform = 'translateY(30px)';
            setTimeout(() => {
                heroButtons.style.transition = 'all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                heroButtons.style.opacity = '1';
                heroButtons.style.transform = 'translateY(0)';
            }, 600);
        }
    });
});

// 添加一些额外的交互效果
window.addEventListener('load', function() {
    // 页面加载完成后的额外效果
    console.log('Global Beauty B2B Platform loaded successfully!');
    
    // 可以在这里添加更多的初始化代码
    // 比如加载动画、数据获取等
});

// 知识科普卡片交互效果
function initializeKnowledgeCards() {
    const knowledgeCards = document.querySelectorAll('.knowledge-card');
    
    knowledgeCards.forEach((card, index) => {
        // 添加延迟动画
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        
        setTimeout(() => {
            card.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 150);
        
        // 添加点击效果
        card.addEventListener('click', function() {
            this.style.transform = 'translateY(-8px) scale(1.02)';
            setTimeout(() => {
                this.style.transform = 'translateY(-8px) scale(1.02)';
            }, 150);
        });
    });
}

// 韩妆趋势卡片交互效果
function initializeTrendCards() {
    const trendCards = document.querySelectorAll('.trend-card');
    
    trendCards.forEach((card, index) => {
        // 添加延迟动画
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        
        setTimeout(() => {
            card.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 150);
        
        // 添加点击效果
        card.addEventListener('click', function() {
            this.style.transform = 'translateY(-8px) scale(1.02)';
            setTimeout(() => {
                this.style.transform = 'translateY(-8px) scale(1.02)';
            }, 150);
        });
    });
}


// 韩国实时时间显示和钟表指针动画
function updateKoreaTime() {
    const koreaTimeElement = document.getElementById('koreaTime');
    const koreaDateElement = document.getElementById('koreaDate');
    const hourHand = document.getElementById('hourHand');
    const minuteHand = document.getElementById('minuteHand');
    const secondHand = document.getElementById('secondHand');
    
    if (!koreaTimeElement || !koreaDateElement) {
        return;
    }
    
    // 获取韩国时间 (UTC+9)
    const now = new Date();
    const koreaTime = new Date(now.getTime() + (9 * 60 * 60 * 1000));
    
    const hours = koreaTime.getUTCHours();
    const minutes = koreaTime.getUTCMinutes();
    const seconds = koreaTime.getUTCSeconds();
    
    // 格式化时间显示
    const hoursStr = hours.toString().padStart(2, '0');
    const minutesStr = minutes.toString().padStart(2, '0');
    const secondsStr = seconds.toString().padStart(2, '0');
    
    // 格式化日期
    const year = koreaTime.getUTCFullYear();
    const month = (koreaTime.getUTCMonth() + 1).toString().padStart(2, '0');
    const day = koreaTime.getUTCDate().toString().padStart(2, '0');
    
    // 更新数字时间显示
    koreaTimeElement.textContent = `${hoursStr}:${minutesStr}:${secondsStr}`;
    koreaDateElement.textContent = `${year}년 ${month}월 ${day}일`;
    
    // 更新钟表指针
    if (hourHand && minuteHand && secondHand) {
        // 计算指针角度
        const secondAngle = seconds * 6; // 每秒6度
        const minuteAngle = minutes * 6 + seconds * 0.1; // 每分钟6度，加上秒数的小数部分
        const hourAngle = (hours % 12) * 30 + minutes * 0.5; // 每小时30度，加上分钟的小数部分
        
        // 应用旋转
        secondHand.style.transform = `translate(-50%, -100%) rotate(${secondAngle}deg)`;
        minuteHand.style.transform = `translate(-50%, -100%) rotate(${minuteAngle}deg)`;
        hourHand.style.transform = `translate(-50%, -100%) rotate(${hourAngle}deg)`;
    }
}

// 启动韩国时间更新
function startKoreaTime() {
    updateKoreaTime(); // 立即更新一次
    setInterval(updateKoreaTime, 1000); // 每秒更新
}

// 钟表指针平滑过渡效果
function addClockTransitions() {
    const hourHand = document.getElementById('hourHand');
    const minuteHand = document.getElementById('minuteHand');
    const secondHand = document.getElementById('secondHand');
    
    if (hourHand && minuteHand && secondHand) {
        // 为指针添加平滑过渡效果
        hourHand.style.transition = 'transform 0.5s ease-in-out';
        minuteHand.style.transition = 'transform 0.5s ease-in-out';
        secondHand.style.transition = 'transform 0.1s linear';
    }
}

// 数字计数器动画效果
function animateCounter(element, target, duration = 2000) {
    const start = 0;
    const increment = target / (duration / 16); // 60fps
    let current = start;
    
    const timer = setInterval(() => {
        current += increment;
        if (current >= target) {
            current = target;
            clearInterval(timer);
        }
        
        // 格式化数字显示
        if (target >= 1000) {
            element.textContent = Math.floor(current).toLocaleString();
        } else {
            element.textContent = Math.floor(current);
        }
    }, 16);
}

// 检查元素是否在视窗中
function isElementInViewport(element) {
    const rect = element.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
}

// 初始化数字计数器动画
function initializeCounters() {
    const counters = document.querySelectorAll('.data-number');
    const animatedCounters = new Set();
    
    function checkCounters() {
        counters.forEach(counter => {
            if (!animatedCounters.has(counter) && isElementInViewport(counter)) {
                const target = parseInt(counter.getAttribute('data-target'));
                if (target) {
                    animatedCounters.add(counter);
                    counter.classList.add('animate');
                    animateCounter(counter, target);
                }
            }
        });
    }
    
    // 初始检查
    checkCounters();
    
    // 滚动时检查
    window.addEventListener('scroll', checkCounters);
}

// 初始化EmailJS
(function() {
    emailjs.init("pQawzAYPpaHYW27ZS"); // 您的真实Public Key
})();

// 页面加载完成后初始化所有功能
document.addEventListener('DOMContentLoaded', function() {
    initializeKnowledgeCards();
    initializeTrendCards();
    addClockTransitions();
    startKoreaTime();
    initializeCounters();
});
